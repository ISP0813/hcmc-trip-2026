<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HCMC 2026 è¡Œç¨‹è¡¨</title>
    
    <link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIkhDTUMgMjAyNiIsCiAgInNob3J0X25hbWUiOiAiVk4gVHJpcCIsCiAgInN0YXJ0X3VybCI6ICIuIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZmRmYmY3IiwKICAidGhlbWVfY29sb3IiOiAiIzU3NTM0ZSIKfQ==">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.prod.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f5f5f4;
            -webkit-tap-highlight-color: transparent;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .japanese-shadow { box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05); }
        [v-cloak] { display: none; }
        #toast-container { display: none; }
        #toast-container.active { display: flex; }
        
        .fade-in-image { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sumi': '#27272a',
                        'paper': '#fdfbf7',
                        'matcha': '#4d7c0f',
                        'sakura': '#fb7185',
                        'indigo-jp': '#4338ca', 
                    }
                }
            }
        }
    </script>
</head>
<body class="text-sumi h-screen flex flex-col overflow-hidden max-w-md mx-auto shadow-2xl bg-paper">

    <div id="app" class="flex flex-col h-full" v-cloak>

        <header class="pt-12 pb-4 px-6 bg-paper sticky top-0 z-20 shadow-sm border-b border-stone-100">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold tracking-tight">HCMC <span class="text-matcha">2026</span></h1>
                    <p class="text-xs text-gray-500 mt-1">1æœˆ22æ—¥ - 1æœˆ26æ—¥ (V19.2)</p>
                </div>
                <div class="bg-stone-200 rounded-full p-2 cursor-pointer hover:bg-stone-300 transition" @click="toggleWeather">
                    <i class="fa-solid fa-cloud-sun text-xl text-gray-600"></i>
                </div>
            </div>
            
            <div v-if="showWeather" class="mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100 flex items-center justify-between text-sm">
                <div>
                    <span class="font-bold block">èƒ¡å¿—æ˜å¸‚</span>
                    <span class="text-gray-500">å¹³å‡æ°£æº« 24Â°C - 32Â°C</span>
                </div>
                <div class="text-right">
                    <div class="text-blue-600 font-bold">ä¹¾å­£</div>
                    <div class="text-xs text-gray-400">è¨˜å¾—é˜²æ›¬è£œæ°´</div>
                </div>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto no-scrollbar relative bg-stone-50">
            
            <div v-if="currentView === 'itinerary'" class="pb-24">
                
                <div class="flex overflow-x-auto no-scrollbar px-4 py-3 mb-2 sticky top-0 bg-stone-50/95 z-10 backdrop-blur-sm gap-3 border-b border-stone-100">
                    <button 
                        v-for="(day, index) in itinerary" 
                        :key="index"
                        @click="selectedDayIndex = index"
                        class="flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 border"
                        :class="selectedDayIndex === index ? 'bg-sumi text-white border-sumi shadow-md transform scale-105' : 'bg-white text-gray-500 border-gray-200'"
                    >
                        <div class="text-xs opacity-80">{{ day.dateShort }}</div>
                        <div>Day {{ index + 1 }}</div>
                    </button>
                </div>

                <div class="px-5 mt-4 space-y-6">
                    <div v-for="(event, eIndex) in currentDayEvents" :key="eIndex" class="relative pl-4 border-l-2 border-stone-200 pb-2">
                        <div class="absolute -left-[9px] top-3 w-4 h-4 rounded-full border-2 border-white shadow-sm"
                             :class="getCategoryColor(event.type)"></div>
                        
                        <div class="bg-white rounded-xl overflow-hidden japanese-shadow border border-stone-100 group">
                            
                            <div v-if="event.image" class="h-32 w-full overflow-hidden relative">
                                <img :src="event.image" class="w-full h-full object-cover fade-in-image group-hover:scale-105 transition-transform duration-700" alt="Spot Image">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
                                <div class="absolute bottom-2 left-3 text-white text-xs font-bold px-2 py-1 bg-black/30 backdrop-blur-sm rounded-md border border-white/20">
                                    <i class="fa-regular fa-image mr-1"></i> æƒ…å¢ƒåƒè€ƒ
                                </div>
                            </div>

                            <div class="p-4">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-mono text-sm font-bold text-gray-400">{{ event.time }}</span>
                                    <span v-if="event.tag" class="text-[10px] px-2 py-0.5 rounded-full bg-stone-100 text-stone-600 font-bold tracking-wider uppercase border border-stone-200">
                                        {{ event.tag }}
                                    </span>
                                </div>
                                
                                <h3 class="font-bold text-lg leading-tight mb-2 text-sumi">{{ event.title }}</h3>
                                
                                <div class="text-sm text-gray-600 mb-4 leading-relaxed bg-stone-50 p-3 rounded-lg border border-stone-100">
                                    <span v-if="event.guide" class="block text-xs text-matcha font-bold mb-1"><i class="fa-solid fa-user-tie mr-1"></i>å°éŠç­†è¨˜ï¼š</span>
                                    <span v-html="highlightText(event.desc)"></span>
                                </div>

                                <div v-if="event.address" class="flex items-center justify-between pt-2 border-t border-dashed border-gray-100">
                                    <div class="text-xs text-gray-400 truncate max-w-[65%]">
                                        <i class="fa-solid fa-location-dot mr-1"></i> {{ event.address }}
                                    </div>
                                    <button @click="copyToClipboard(event.address)" class="text-xs bg-stone-800 text-white active:bg-stone-600 px-3 py-2 rounded-lg font-medium transition-colors shadow-sm flex items-center gap-1">
                                        <i class="fa-regular fa-copy"></i> åœ°å€
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center py-8 text-gray-400 text-sm">
                    <p>â€” Day {{ selectedDayIndex + 1 }} è¡Œç¨‹çµæŸ â€”</p>
                </div>
            </div>

            <div v-if="currentView === 'tools'" class="px-5 py-4 pb-24 space-y-6">
                <div class="bg-white rounded-2xl p-5 shadow-sm border border-stone-100">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2">âœˆï¸ èˆªç­è³‡è¨Š (V19)</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-xs text-gray-400">å»ç¨‹ (1/22)</div>
                                <div class="font-bold text-xl">VJ843</div>
                                <div class="text-sm text-matcha">19:00 èµ·é£›</div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-400">æŠµé” SGN</div>
                                <div class="font-bold">21:25</div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-xs text-gray-400">å›ç¨‹ (1/26)</div>
                                <div class="font-bold text-xl">VJ842</div>
                                <div class="text-sm text-sakura">13:35 èµ·é£›</div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-400">æŠµé” TPE</div>
                                <div class="font-bold">18:00</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl p-5 shadow-sm border border-stone-100">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2">ğŸ¨ ä½å®¿è³‡è¨Š</h3>
                    <div class="font-bold text-lg text-indigo-jp mb-1">La Paix Saigon</div>
                    <div class="text-xs text-gray-400 mb-2">Boutique Hotel (24-26 Dong Du)</div>
                    <p class="text-sm text-gray-500 mb-3">è«‹å‡ºç¤ºè¨‚å–®ã€‚é€²å‡ºè«‹é¸ Grab Car Plus å¤§è»Šè¼ƒèˆ’é©ã€‚</p>
                    <button @click="copyToClipboard('24 ÄÃ´ng Du, Báº¿n NghÃ©, Quáº­n 1, ThÃ nh phá»‘ Há»“ ChÃ­ Minh')" class="w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-medium">è¤‡è£½é£¯åº—åœ°å€</button>
                </div>

                <div class="bg-white rounded-2xl p-5 shadow-sm border border-stone-100">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2 flex justify-between">
                        <span>ğŸ’° ç°¡æ˜“è¨˜å¸³</span>
                        <span class="text-matcha">{{ totalSpent.toLocaleString() }} VND</span>
                    </h3>
                    <div class="flex gap-2 mb-4">
                        <input v-model="newExpenseName" placeholder="é …ç›®" class="w-1/2 p-2 bg-stone-50 rounded-lg border border-stone-200 text-sm">
                        <input v-model.number="newExpenseAmount" type="number" placeholder="é‡‘é¡" class="w-1/3 p-2 bg-stone-50 rounded-lg border border-stone-200 text-sm">
                        <button @click="addExpense" class="w-10 bg-sumi text-white rounded-lg flex items-center justify-center"><i class="fa-solid fa-plus"></i></button>
                    </div>
                    <div class="space-y-2 max-h-40 overflow-y-auto">
                        <div v-for="(item, idx) in expenses" :key="idx" class="flex justify-between text-sm py-1 border-b border-dashed border-gray-100">
                            <span>{{ item.name }}</span>
                            <span class="font-mono">{{ item.amount.toLocaleString() }}</span>
                        </div>
                    </div>
                </div>

                 <div class="bg-sakura/10 rounded-2xl p-5 border border-sakura/30">
                    <h3 class="font-bold text-lg mb-2 text-sakura">ğŸ†˜ ç·Šæ€¥è¯çµ¡</h3>
                    <ul class="text-sm space-y-2 text-gray-700">
                        <li><span class="font-bold">å ±è­¦ï¼š</span> 113</li>
                        <li><span class="font-bold">æ€¥æ•‘ï¼š</span> 115</li>
                        <li><span class="font-bold">å°ç£è¾¦äº‹è™•ï¼š</span> +84-903-927-019</li>
                    </ul>
                </div>
            </div>
        </main>

        <nav class="bg-white border-t border-stone-200 px-6 py-3 flex justify-around items-center absolute bottom-0 w-full z-30 pb-6 safe-area-pb">
            <button @click="currentView = 'itinerary'" class="flex flex-col items-center gap-1 w-16 transition-colors duration-300" :class="currentView === 'itinerary' ? 'text-sumi' : 'text-gray-300'">
                <i class="fa-solid fa-map-location-dot text-xl"></i>
                <span class="text-[10px] font-medium">è¡Œç¨‹</span>
            </button>
            <div class="w-px h-8 bg-stone-100"></div>
            <button @click="currentView = 'tools'" class="flex flex-col items-center gap-1 w-16 transition-colors duration-300" :class="currentView === 'tools' ? 'text-sumi' : 'text-gray-300'">
                <i class="fa-solid fa-suitcase text-xl"></i>
                <span class="text-[10px] font-medium">å·¥å…·</span>
            </button>
        </nav>
        
        <div id="toast-container" :class="{ active: toast.show }" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-sumi text-white px-6 py-3 rounded-full shadow-2xl z-50 items-center gap-3 transition-all duration-300">
            <i class="fa-solid fa-circle-check text-matcha"></i>
            <span class="text-sm">{{ toast.message }}</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof Vue === 'undefined') { alert('Error: Vue not loaded'); return; }
            const { createApp, ref, computed } = Vue;

            createApp({
                setup() {
                    const currentView = ref('itinerary');
                    const selectedDayIndex = ref(0);
                    const showWeather = ref(true);
                    const toast = ref({ show: false, message: '' });
                    
                    const newExpenseName = ref('');
                    const newExpenseAmount = ref('');
                    const expenses = ref([{ name: 'æ©Ÿå ´æ›åŒ¯é ä¼°', amount: 3000000 }]);
                    const addExpense = () => {
                        if(newExpenseName.value && newExpenseAmount.value) {
                            expenses.value.unshift({ name: newExpenseName.value, amount: newExpenseAmount.value });
                            newExpenseName.value = ''; newExpenseAmount.value = '';
                        }
                    };
                    const totalSpent = computed(() => expenses.value.reduce((acc, item) => acc + item.amount, 0));

                    // V19.2 Final Itinerary Data
                    const itinerary = [
                        {
                            dateShort: "1/22 (å››)",
                            events: [
                                { time: "15:40", title: "å‰å¾€æ¡ƒåœ’æ©Ÿå ´", type: "transport", desc: "å„ªé›…è½‰å ´ã€‚å« Uber å‰å¾€ T1ã€‚", address: "Taoyuan International Airport Terminal 1" },
                                { time: "21:25", title: "æŠµé” SGN èƒ¡å¿—æ˜", type: "transport", tag: "VIPé€šé—œ", guide: true, desc: "èµ°å¿«é€Ÿé€šé“å‡ºé—œã€‚æ‰“é–‹ Grab å«è»Šï¼Œè¨˜å¾—é¸ <b>Car Plus (å¤§è»Š)</b> åèµ·ä¾†æ‰èˆ’æœã€‚å®šä½ï¼šLa Paix Saigonã€‚", address: "Tan Son Nhat International Airport" },
                                { time: "23:00", title: "Check-in La Paix", type: "hotel", tag: "ç²¾å“é£¯åº—", desc: "è¾¦ç†å…¥ä½ï¼Œæ”¾ä¸‹è¡Œæã€‚", address: "24-26 ÄÃ´ng Du, Báº¿n NghÃ©, Quáº­n 1" },
                                { time: "23:30", title: "å®µå¤œå ´", type: "food", tag: "å¿…åƒ", image: "https://images.unsplash.com/photo-1582878826629-29b7ad1cdc43?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "å»åƒ <b>Phá»Ÿ Quá»³nh</b> ç”Ÿç‰›è‚‰æ²³ç²‰ã€‚åƒå®Œå»æ—é‚ŠèŒƒäº”è€è¡— (BÃ¹i Viá»‡n) æ„Ÿå—æ°£æ°›ï¼Œæ¨è–¦ The View Rooftop Barã€‚<b>åˆ‡è¨˜ï¼šåªçœ‹ã€ä¸ç©ã€‚</b>", address: "323 Pháº¡m NgÅ© LÃ£o, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/23 (äº”)",
                            events: [
                                { time: "09:30", title: "Phá»Ÿ HÃ²a Pasteur", type: "food", tag: "è€åº—", image: "https://images.unsplash.com/photo-1635586617349-38379051cc37?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "ç¶“å…¸è€åº—æ—©é¤ã€‚æ¹¯é ­æ¸…ç”œï¼Œè¨˜å¾—é…æ¡Œä¸Šçš„æ²¹æ¢åƒã€‚", address: "260C Pasteur, District 3" },
                                { time: "10:15", title: "Biti's è²·é‹", type: "shop", tag: "ä»»å‹™", image: "https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "å°±åœ¨æ²³ç²‰åº—é€™æ¢è·¯å¾€å›èµ°ã€‚è©¦ç©¿è¶Šå—åœ‹æ°‘å“ç‰Œ <b>Biti's Hunter</b>ã€‚è«‹åº—å“¡ç›´æ¥æ‰¾ <b>Size 44-45 ä»¥ä¸Š</b>ï¼Œå‹™å¿…è©¦ç©¿èµ°èµ°çœ‹ï¼Œç¢ºèªé‹åº•æ”¯æ’åŠ›å¤ ä¸å¤ ã€‚", address: "290 Hai BÃ  TrÆ°ng, TÃ¢n Äá»‹nh, Quáº­n 1" },
                                { time: "11:00", title: "ç²‰ç´…æ•™å ‚", type: "sight", tag: "æ‹ç…§", image: "https://images.unsplash.com/photo-1583417319070-4a69db38a482?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", desc: "TÃ¢n Äá»‹nh Churchã€‚å°±åœ¨ Biti's é™„è¿‘ï¼Œé †è·¯æ‹ç…§ã€‚", address: "289 Hai BÃ  TrÆ°ng, District 3" },
                                { time: "11:30", title: "Ha Tam Jewelry æ›åŒ¯", type: "money", tag: "æ›éŒ¢", desc: "æ¿±åŸå¸‚å ´æ—ã€‚ç­–ç•¥ï¼šå…ˆæ‹¿å‡º <b>$100 ç¾é‡‘å¤§éˆ”</b>æ›ï¼Œä¸å¤ å†ç”¨å°å¹£ã€‚", address: "2 Nguyá»…n An Ninh, District 1" },
                                { time: "12:30", title: "Le Corto æ³•å¼åˆé¤", type: "food", tag: "CPå€¼é«˜", image: "https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é ç´„ 12:45ã€‚äº«ç”¨è¶…å€¼çš„<b>æ³•å¼å•†æ¥­åˆé¤</b>ã€‚æ°£æ°›å¥½ï¼Œæ…¢æ…¢åƒã€‚", address: "5D Nguyá»…n SiÃªu, Báº¿n NghÃ©, District 1" },
                                { time: "15:00", title: "King Luxury æ´—é ­", type: "relax", tag: "è¶Šå¼æ´—é ­", image: "https://images.unsplash.com/photo-1519823551278-64ac92734fb1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "æ´—è‡‰ã€æ´—é ­ã€æè€³ä¸€æ¬¡æ»¿è¶³ã€‚å¾¹åº•æ”¾é¬†ã€‚", address: "222 BÃ¹i Viá»‡n, District 1" },
                                { time: "18:30", title: "Pizza 4P's", type: "food", tag: "æ™šé¤", guide: true, desc: "Ben Thanh åˆ†åº—ã€‚æ¨è–¦ï¼š<b>Burrata Cheese Pizza</b>ã€‚", address: "8 Thá»§ Khoa HuÃ¢n, District 1" },
                                { time: "20:00", title: "æ—¥æœ¬è¡— Cherry", type: "night", tag: "å¤œç”Ÿæ´»", desc: "ææ—©é€²å ´é¿é–‹äººæ½®ã€‚åœ°å€åœ¨ Thai Van Lungã€‚", address: "8a ThÃ¡i VÄƒn Lung, Báº¿n NghÃ©, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/24 (å…­)",
                            events: [
                                { time: "09:30", title: "BÃ¡nh MÃ¬ Huá»³nh Hoa", type: "food", tag: "æœ€å¼·æ³•æ£", image: "https://images.unsplash.com/photo-1541518763669-27fef04b14ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "å¸¶åœ¨è»Šä¸Šåƒæˆ–ç¾å ´è§£æ±ºã€‚æ–™è¶…ç´šå¤šï¼Œä¸è¦åƒå¤ªæ’ã€‚", address: "26 LÃª Thá»‹ RiÃªng, District 1" },
                                { time: "10:30", title: "ç¬¬äº”éƒ¡æ–‡åŒ–ä¹‹æ—…", type: "sight", tag: "å”äººè¡—", image: "https://images.unsplash.com/photo-1582767098495-23c31627c24a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "å…¨ç¨‹ Grab ç§»å‹•ã€‚1. <b>å¤©åå®®</b> (çœ‹ç›¤é¦™) -> 2. <b>é—œå¸å»Ÿ</b> (çœ‹èµ¤å…”é¦¬) -> 3. <b>èŒ¶è­šæ•™å ‚</b> (æ¼¢å­—æ•™å ‚)ã€‚", address: "710 Nguyá»…n TrÃ£i, District 5 (å¤©åå®®)" },
                                { time: "12:30", title: "æ±æºé›é£¯", type: "food", tag: "åˆé¤", desc: "é»<b>æµ·å—é›é£¯ + ç‡‰æ¹¯</b>ã€‚ä»½é‡é©ä¸­ï¼Œä¿ç•™æˆ°åŠ›çµ¦æ™šä¸Šçš„é¾è¦ã€‚", address: "801 Nguyá»…n TrÃ£i, District 5" },
                                { time: "13:30", title: "å®‰æ±å¸‚å ´", type: "shop", tag: "æ¡è³¼", desc: "è²·<b>å¸¶çš®è…°æœ</b>ã€‚è²·å®Œå›é£¯åº—æ”¾æˆ°åˆ©å“ã€‚", address: "34-36 An DÆ°Æ¡ng VÆ°Æ¡ng, District 5" },
                                { time: "16:00", title: "ç¶­æ±é…’åº—æŒ‰æ‘©", type: "relax", tag: "è€ç‰Œ", desc: "è¨˜å¾—æº–å‚™ 100k-200k å°è²»çµ¦å¸«å‚…ã€‚", address: "275A Pháº¡m NgÅ© LÃ£o" },
                                { time: "18:00", title: "Nikko Hotel é¾è¦åƒåˆ°é£½", type: "food", tag: "é‡é ­æˆ²", image: "https://images.unsplash.com/photo-1559847844-5315695dadae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "La Brasserie é¤å»³ã€‚é¾è¦ã€ç”Ÿè ”ã€ç´…ç™½é…’<b>ç„¡é™ä¾›æ‡‰</b>ã€‚ç›¡æƒ…äº«å—ï¼", address: "235 Nguyen Van Cu, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/25 (æ—¥)",
                            events: [
                                { time: "10:00", title: "Takashimaya è³¼ç‰©", type: "shop", tag: "ç²¾å“", image: "https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "Saigon Centre B2 è¶…å¸‚ã€‚è²· <b>Marou å·§å…‹åŠ›</b> å’Œé«˜ç´šèŒ¶è‘‰ã€‚", address: "92-94 Nam Ká»³ Khá»Ÿi NghÄ©a, Báº¿n NghÃ©, Quáº­n 1" },
                                { time: "11:00", title: "Saigon Square", type: "shop", tag: "Aè²¨æˆ°å ´", guide: true, desc: "å°±åœ¨å°é¢ã€‚è²·ä»¿åç‰Œè¡£ç‰©é‹å­ã€‚<b>æ®ºåƒ¹æ˜¯å¿…é ˆçš„</b>ï¼Œå»ºè­°å¾å°æŠ˜é–‹å§‹å–Šã€‚", address: "77-89 Nam Ká»³ Khá»Ÿi NghÄ©a, District 1" },
                                { time: "12:30", title: "æ›¸è¡—å‘¨é‚Šåˆé¤", type: "food", desc: "åœ¨æ›¸è¡—æ—éº¥ç•¶å‹æˆ–å’–å•¡å»³ç°¡å–®åƒã€‚", address: "Nguyen Van Binh Book Street" },
                                { time: "13:30", title: "æ³•å¼å»ºç¯‰å·¡ç¦®", type: "sight", tag: "å¤è¹Ÿ", image: "https://images.unsplash.com/photo-1577717903315-1691ae25ab3f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", desc: "éƒµå±€ -> ç´…æ•™å ‚ (å¤–è§€) -> æ›¸è¡—ã€‚", address: "2 CÃ´ng xÃ£ Paris, District 1" },
                                { time: "14:30", title: "èƒ¡å¿—æ˜å¸‚åšç‰©é¤¨", type: "sight", tag: "é˜²ç©ºæ´", guide: true, desc: "è²·ç¥¨åƒè§€ã€‚çœ‹<b>æ—‹è½‰æ¨“æ¢¯</b>èˆ‡<b>åœ°ä¸‹ç¢‰å ¡</b>ã€‚", address: "65 LÃ½ Tá»± Trá»ng, District 1" },
                                { time: "15:30", title: "ç¾è¡“åšç‰©é¤¨", type: "sight", tag: "é»ƒè‰²å»ºç¯‰", desc: "åƒè§€æ³•å¼é»ƒè‰²å»ºç¯‰ï¼Œéå¸¸å¥½æ‹ã€‚", address: "97A PhÃ³ Äá»©c ChÃ­nh, District 1" },
                                { time: "16:30", title: "Miu Miu Spa 2", type: "relax", tag: "ç´“å£“", guide: true, desc: "å¸¶è‘—æ»¿æ»¿çš„æˆ°åˆ©å“ä¾†æ”¾é¬†ã€‚é ç´„ <b>Package 1</b> (60åˆ†èº«é«” + 60åˆ†è…³åº•)ã€‚", address: "2B Chu Máº¡nh Trinh, District 1" },
                                { time: "18:30", title: "Báº¿p Máº¹ á»ˆn èƒ–åª½å»šæˆ¿", type: "food", tag: "è¶Šå¼", desc: "æ¿±åŸåº—ã€‚åƒå‚³çµ±è¶Šå¼æ–™ç†ã€‚", address: "136 LÃª ThÃ¡nh TÃ´n, District 1" },
                                { time: "20:00", title: "è³­å ´é«”é©—", type: "night", tag: "è©¦æ‰‹æ°£", image: "https://images.unsplash.com/photo-1596838132731-3301c3fd4317?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "Club Royale æˆ– Vegas Clubã€‚<b>è³‡é‡‘æ§ç®¡ï¼š</b>åªå¸¶è—è‰²ç¾é‡‘æ–°éˆ”å»ç©ã€‚", address: "1 NgÃ´ Äá»©c Káº¿ (Renaissance Riverside Hotel)" }
                            ]
                        },
                        {
                            dateShort: "1/26 (ä¸€)",
                            events: [
                                { time: "09:30", title: "The Running Bean", type: "food", tag: "æ—©åˆé¤", desc: "é›¢é£¯åº— 3 åˆ†é˜ï¼Œç²¾ç·»æ—©åˆé¤ï¼Œå„ªé›…å›æ­¸ã€‚", address: "33 Máº¡c Thá»‹ BÆ°á»Ÿi, District 1" },
                                { time: "10:45", title: "é€€æˆ¿ & å‰å¾€æ©Ÿå ´", type: "transport", desc: "å« Grab Car Plus å‰å¾€ SGN æ©Ÿå ´ã€‚", address: "Tan Son Nhat International Airport" },
                                { time: "13:35", title: "èµ·é£› VJ842", type: "transport", tag: "å›å®¶", desc: "é è¨ˆ 18:00 æŠµé”æ¡ƒåœ’æ©Ÿå ´ã€‚", address: "" }
                            ]
                        }
                    ];

                    const currentDayEvents = computed(() => itinerary[selectedDayIndex.value].events);
                    const getCategoryColor = (type) => ({
                        food: 'bg-sakura', sight: 'bg-matcha', transport: 'bg-blue-400',
                        relax: 'bg-purple-400', money: 'bg-yellow-400', hotel: 'bg-indigo-400',
                        shop: 'bg-orange-400', night: 'bg-pink-600'
                    }[type] || 'bg-gray-400');

                    const highlightText = (text) => text ? text.replace(/<b>(.*?)<\/b>/g, '<span class="font-bold text-sumi bg-yellow-100 px-1 rounded shadow-sm">$1</span>') : '';
                    
                    const copyToClipboard = (text) => {
                        if(!text) return;
                        navigator.clipboard.writeText(text).then(() => showToast(`å·²è¤‡è£½ï¼š${text}`))
                            .catch(() => {
                                const ta = document.createElement('textarea'); ta.value = text;
                                document.body.appendChild(ta); ta.select(); document.execCommand('copy');
                                document.body.removeChild(ta); showToast(`å·²è¤‡è£½ï¼š${text}`);
                            });
                    };
                    const showToast = (msg) => { toast.value.message = msg; toast.value.show = true; setTimeout(() => toast.value.show = false, 2000); };
                    const toggleWeather = () => showWeather.value = !showWeather.value;

                    return { currentView, selectedDayIndex, itinerary, currentDayEvents, getCategoryColor, highlightText, copyToClipboard, toast, expenses, newExpenseName, newExpenseAmount, addExpense, totalSpent, showWeather, toggleWeather };
                }
            }).mount('#app');
        });
    </script>
</body>
</html>
