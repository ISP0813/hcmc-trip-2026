<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HCMC 2026 æ—…ç¨‹</title>
    
    <link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIkhDTUMgMjAyNiIsCiAgInNob3J0X25hbWUiOiAiVk4gVHJpcCIsCiAgInN0YXJ0X3VybCI6ICIuIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZmRmYmY3IiwKICAidGhlbWVfY29sb3IiOiAiIzU3NTM0ZSIKfQ==">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.prod.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f5f5f4;
            -webkit-tap-highlight-color: transparent;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .japanese-shadow { box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05); }
        [v-cloak] { display: none; }
        #toast-container { display: none; }
        #toast-container.active { display: flex; }
        
        /* åœ–ç‰‡è¼‰å…¥æ™‚çš„æ·¡å…¥æ•ˆæœ */
        .fade-in-image { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sumi': '#27272a',
                        'paper': '#fdfbf7',
                        'matcha': '#4d7c0f',
                        'sakura': '#fb7185',
                        'indigo-jp': '#4338ca', 
                    }
                }
            }
        }
    </script>
</head>
<body class="text-sumi h-screen flex flex-col overflow-hidden max-w-md mx-auto shadow-2xl bg-paper">

    <div id="app" class="flex flex-col h-full" v-cloak>

        <header class="pt-12 pb-4 px-6 bg-paper sticky top-0 z-20 shadow-sm">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold tracking-tight">HCMC <span class="text-matcha">2026</span></h1>
                    <p class="text-xs text-gray-500 mt-1">1æœˆ22æ—¥ - 1æœˆ26æ—¥</p>
                </div>
                <div class="bg-stone-200 rounded-full p-2 cursor-pointer hover:bg-stone-300 transition" @click="toggleWeather">
                    <i class="fa-solid fa-cloud-sun text-xl text-gray-600"></i>
                </div>
            </div>
            
            <div v-if="showWeather" class="mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100 flex items-center justify-between text-sm">
                <div>
                    <span class="font-bold block">èƒ¡å¿—æ˜å¸‚</span>
                    <span class="text-gray-500">å¹³å‡æ°£æº« 24Â°C - 32Â°C</span>
                </div>
                <div class="text-right">
                    <div class="text-blue-600 font-bold">ä¹¾å­£</div>
                    <div class="text-xs text-gray-400">è¨˜å¾—é˜²æ›¬è£œæ°´</div>
                </div>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto no-scrollbar relative bg-stone-50">
            
            <div v-if="currentView === 'itinerary'" class="pb-24">
                
                <div class="flex overflow-x-auto no-scrollbar px-4 py-3 mb-2 sticky top-0 bg-stone-50/95 z-10 backdrop-blur-sm gap-3 border-b border-stone-100">
                    <button 
                        v-for="(day, index) in itinerary" 
                        :key="index"
                        @click="selectedDayIndex = index"
                        class="flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 border"
                        :class="selectedDayIndex === index ? 'bg-sumi text-white border-sumi shadow-md transform scale-105' : 'bg-white text-gray-500 border-gray-200'"
                    >
                        <div class="text-xs opacity-80">{{ day.dateShort }}</div>
                        <div>Day {{ index + 1 }}</div>
                    </button>
                </div>

                <div class="px-5 mt-4 space-y-6">
                    <div v-for="(event, eIndex) in currentDayEvents" :key="eIndex" class="relative pl-4 border-l-2 border-stone-200 pb-2">
                        <div class="absolute -left-[9px] top-3 w-4 h-4 rounded-full border-2 border-white shadow-sm"
                             :class="getCategoryColor(event.type)"></div>
                        
                        <div class="bg-white rounded-xl overflow-hidden japanese-shadow border border-stone-100 group">
                            
                            <div v-if="event.image" class="h-32 w-full overflow-hidden relative">
                                <img :src="event.image" class="w-full h-full object-cover fade-in-image group-hover:scale-105 transition-transform duration-700" alt="Spot Image">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
                                <div class="absolute bottom-2 left-3 text-white text-xs font-bold px-2 py-1 bg-black/30 backdrop-blur-sm rounded-md border border-white/20">
                                    <i class="fa-regular fa-image mr-1"></i> æƒ…å¢ƒåƒè€ƒ
                                </div>
                            </div>

                            <div class="p-4">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-mono text-sm font-bold text-gray-400">{{ event.time }}</span>
                                    <span v-if="event.tag" class="text-[10px] px-2 py-0.5 rounded-full bg-stone-100 text-stone-600 font-bold tracking-wider uppercase border border-stone-200">
                                        {{ event.tag }}
                                    </span>
                                </div>
                                
                                <h3 class="font-bold text-lg leading-tight mb-2 text-sumi">{{ event.title }}</h3>
                                
                                <div class="text-sm text-gray-600 mb-4 leading-relaxed bg-stone-50 p-3 rounded-lg border border-stone-100">
                                    <span v-if="event.guide" class="block text-xs text-matcha font-bold mb-1"><i class="fa-solid fa-user-tie mr-1"></i>å°éŠç­†è¨˜ï¼š</span>
                                    <span v-html="highlightText(event.desc)"></span>
                                </div>

                                <div v-if="event.address" class="flex items-center justify-between pt-2 border-t border-dashed border-gray-100">
                                    <div class="text-xs text-gray-400 truncate max-w-[65%]">
                                        <i class="fa-solid fa-location-dot mr-1"></i> {{ event.address }}
                                    </div>
                                    <button @click="copyToClipboard(event.address)" class="text-xs bg-stone-800 text-white active:bg-stone-600 px-3 py-2 rounded-lg font-medium transition-colors shadow-sm flex items-center gap-1">
                                        <i class="fa-regular fa-copy"></i> åœ°å€
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center py-8 text-gray-400 text-sm">
                    <p>â€” Day {{ selectedDayIndex + 1 }} è¡Œç¨‹çµæŸ â€”</p>
                </div>
            </div>

            <div v-if="currentView === 'tools'" class="px-5 py-4 pb-24 space-y-6">
                <div class="bg-white rounded-2xl p-5 shadow-sm border border-stone-100">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2">âœˆï¸ èˆªç­è³‡è¨Š</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-xs text-gray-400">å»ç¨‹ (1/22)</div>
                                <div class="font-bold text-xl">VJ843</div>
                                <div class="text-sm text-matcha">æ™šç­æŠµé”</div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-400">æŠµé” SGN</div>
                                <div class="font-bold">21:25</div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-xs text-gray-400">å›ç¨‹ (1/26)</div>
                                <div class="font-bold text-xl">VJ842</div>
                                <div class="text-sm text-sakura">åˆå¾Œå›ç¨‹</div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-400">èµ·é£› SGN</div>
                                <div class="font-bold">13:35</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl p-5 shadow-sm border border-stone-100">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2">ğŸ¨ ä½å®¿è³‡è¨Š</h3>
                    <div class="font-bold text-lg text-indigo-jp mb-1">LA PAIX SÃ€I GÃ’N</div>
                    <p class="text-sm text-gray-500 mb-3">è«‹å‡ºç¤ºåˆä½µè¨‚å–®è¨Šæ¯é€²è¡Œ Check-in</p>
                    <button @click="copyToClipboard('LA PAIX SÃ€I GÃ’N')" class="w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-medium">è¤‡è£½é£¯åº—åç¨±</button>
                </div>

                <div class="bg-white rounded-2xl p-5 shadow-sm border border-stone-100">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2 flex justify-between">
                        <span>ğŸ’° ç°¡æ˜“è¨˜å¸³</span>
                        <span class="text-matcha">{{ totalSpent.toLocaleString() }} VND</span>
                    </h3>
                    <div class="flex gap-2 mb-4">
                        <input v-model="newExpenseName" placeholder="é …ç›®" class="w-1/2 p-2 bg-stone-50 rounded-lg border border-stone-200 text-sm">
                        <input v-model.number="newExpenseAmount" type="number" placeholder="é‡‘é¡" class="w-1/3 p-2 bg-stone-50 rounded-lg border border-stone-200 text-sm">
                        <button @click="addExpense" class="w-10 bg-sumi text-white rounded-lg flex items-center justify-center"><i class="fa-solid fa-plus"></i></button>
                    </div>
                    <div class="space-y-2 max-h-40 overflow-y-auto">
                        <div v-for="(item, idx) in expenses" :key="idx" class="flex justify-between text-sm py-1 border-b border-dashed border-gray-100">
                            <span>{{ item.name }}</span>
                            <span class="font-mono">{{ item.amount.toLocaleString() }}</span>
                        </div>
                    </div>
                </div>

                 <div class="bg-sakura/10 rounded-2xl p-5 border border-sakura/30">
                    <h3 class="font-bold text-lg mb-2 text-sakura">ğŸ†˜ ç·Šæ€¥è¯çµ¡</h3>
                    <ul class="text-sm space-y-2 text-gray-700">
                        <li><span class="font-bold">å ±è­¦ï¼š</span> 113</li>
                        <li><span class="font-bold">æ€¥æ•‘ï¼š</span> 115</li>
                        <li><span class="font-bold">å°ç£è¾¦äº‹è™•ï¼š</span> +84-903-927-019</li>
                    </ul>
                </div>
            </div>
        </main>

        <nav class="bg-white border-t border-stone-200 px-6 py-3 flex justify-around items-center absolute bottom-0 w-full z-30 pb-6 safe-area-pb">
            <button @click="currentView = 'itinerary'" class="flex flex-col items-center gap-1 w-16 transition-colors duration-300" :class="currentView === 'itinerary' ? 'text-sumi' : 'text-gray-300'">
                <i class="fa-solid fa-map-location-dot text-xl"></i>
                <span class="text-[10px] font-medium">è¡Œç¨‹</span>
            </button>
            <div class="w-px h-8 bg-stone-100"></div>
            <button @click="currentView = 'tools'" class="flex flex-col items-center gap-1 w-16 transition-colors duration-300" :class="currentView === 'tools' ? 'text-sumi' : 'text-gray-300'">
                <i class="fa-solid fa-suitcase text-xl"></i>
                <span class="text-[10px] font-medium">å·¥å…·</span>
            </button>
        </nav>
        
        <div id="toast-container" :class="{ active: toast.show }" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-sumi text-white px-6 py-3 rounded-full shadow-2xl z-50 items-center gap-3 transition-all duration-300">
            <i class="fa-solid fa-circle-check text-matcha"></i>
            <span class="text-sm">{{ toast.message }}</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof Vue === 'undefined') { alert('Error: Vue not loaded'); return; }
            const { createApp, ref, computed } = Vue;

            createApp({
                setup() {
                    const currentView = ref('itinerary');
                    const selectedDayIndex = ref(0);
                    const showWeather = ref(true);
                    const toast = ref({ show: false, message: '' });
                    
                    const newExpenseName = ref('');
                    const newExpenseAmount = ref('');
                    const expenses = ref([{ name: 'æ©Ÿå ´æ›åŒ¯é ä¼°', amount: 2500000 }]);
                    const addExpense = () => {
                        if(newExpenseName.value && newExpenseAmount.value) {
                            expenses.value.unshift({ name: newExpenseName.value, amount: newExpenseAmount.value });
                            newExpenseName.value = ''; newExpenseAmount.value = '';
                        }
                    };
                    const totalSpent = computed(() => expenses.value.reduce((acc, item) => acc + item.amount, 0));

                    // Enhanced Itinerary Data with Images and Guide Text
                    const itinerary = [
                        {
                            dateShort: "1/22 (å››)",
                            events: [
                                { time: "21:25", title: "æŠµé” SGN æ©Ÿå ´", type: "transport", tag: "VIPé€šé—œ", guide: true, desc: "æ­¡è¿ä¾†åˆ°èƒ¡å¿—æ˜ï¼ä¸‹é£›æ©Ÿå¾Œè«‹ç›´æ¥å°‹æ‰¾èˆ‰ç‰Œäººå“¡ï¼Œæˆ‘å€‘èµ°<b>VIPå¿«é€Ÿé€šé“</b>ï¼Œä¸ç”¨è·Ÿè§€å…‰å®¢æ’éšŠã€‚è¨˜å¾—å…ˆä¸è¦å«è»Šï¼Œå…ˆå»æ›éŒ¢ï¼", address: "Tan Son Nhat International Airport" },
                                { time: "21:50", title: "æ©Ÿå ´æ›åŒ¯ & ç¶²å¡", type: "money", tag: "å¿…è¾¦", guide: true, desc: "å…ˆæ› <b>$100 USD</b> èµ·ä¾†æ”¾èº«ä¸Šï¼Œä»˜è»Šè³‡å’Œå°è²»å¾ˆæ–¹ä¾¿ã€‚é€™æ™‚å€™ä¹Ÿç¢ºèªä¸€ä¸‹ç¶²å¡æœ‰æ²’æœ‰è¨Šè™Ÿã€‚", address: "Currency Exchange Counter" },
                                { time: "23:00", title: "Phá»Ÿ Quá»³nh å®µå¤œ", type: "food", tag: "å¿…åƒ", image: "https://images.unsplash.com/photo-1582878826629-29b7ad1cdc43?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é€™å®¶æ˜¯èŒƒäº”è€è¡—çš„ä¸å¤œåŸååº—ï¼ç¬¬ä¸€é¤å»ºè­°é»æœ€ç¶“å…¸çš„<b>ç”Ÿç‰›è‚‰æ²³ç²‰ (Phá»Ÿ TÃ¡i)</b>ï¼Œæ¹¯é ­æ¿ƒéƒé€™æ‰æ˜¯è¶Šå—çš„å‘³é“ã€‚å¦‚æœå¤ªç´¯ï¼Œç›´æ¥ Grab å¤–é€å›é£¯åº—åƒä¹Ÿå¾ˆçˆ½ã€‚", address: "323 Pháº¡m NgÅ© LÃ£o, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/23 (äº”)",
                            events: [
                                { time: "09:30", title: "Phá»Ÿ HÃ²a Pasteur", type: "food", tag: "è€åº—", image: "https://images.unsplash.com/photo-1635586617349-38379051cc37?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "æ—©å®‰ï¼æˆ‘å€‘ä¾†é€™é–“åœ¨åœ°äººä¹Ÿæ„›çš„ <b>Phá»Ÿ HÃ²a</b>ã€‚å®ƒçš„æ¹¯é ­æ¯”æ˜¨æ™šçš„æ¸…æ·¡ä¸€äº›ï¼Œæ¡Œä¸Šçš„æ²¹æ¢(Quáº©y)è¨˜å¾—æ³¡æ¹¯åƒï¼Œé€™æ˜¯å…§è¡Œäººçš„åƒæ³•ã€‚", address: "260C Pasteur, District 3" },
                                { time: "10:30", title: "ç²‰ç´…æ•™å ‚", type: "sight", tag: "æ‰“å¡", image: "https://images.unsplash.com/photo-1583417319070-4a69db38a482?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é€™åº§ç²‰ç´…è‰²çš„<b>TÃ¢n Äá»‹nh Church</b>æ˜¯èƒ¡å¿—æ˜æœ€å¤¢å¹»çš„åœ°æ¨™ï¼æˆ‘å€‘ä¸ç”¨é€²å»(è£¡é¢é€šå¸¸ä¸é–‹æ”¾)ï¼Œåœ¨å°é¢é¦¬è·¯æ‹å¹¾å¼µç¾ç…§å°±è¶³å¤ äº†ï¼Œé…è‰²éå¸¸å¯æ„›ã€‚", address: "289 Hai BÃ  TrÆ°ng, District 3" },
                                { time: "11:30", title: "Ha Tam Jewelry æ›åŒ¯", type: "money", tag: "æ›éŒ¢", desc: "æ¿±åŸå¸‚å ´æ—é‡‘é£¾åº—ï¼ŒåŒ¯ç‡é€šå¸¸æœ€å¥½ã€‚è«‹æº–å‚™å¥½ç¾é‡‘ï¼Œä¸€æ¬¡æ›è¶³å¾Œå¹¾å¤©çš„ç›¤çºã€‚", address: "2 Nguyá»…n An Ninh, District 1" },
                                { time: "12:45", title: "Le Corto æ³•å¼åˆé¤", type: "food", tag: "ç±³å…¶æ—æ¨è–¦", image: "https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é‡é ­æˆ²ä¾†äº†ï¼ä¸»å»š Sakal æ›¾æ˜¯ç´¢è²ç‰¹é£¯åº—çš„è¡Œæ”¿ä¸»å»šã€‚é€™è£¡çš„æ°›åœå„ªé›…è¼•é¬†ï¼Œå‹™å¿…å˜—è©¦ä»–å€‘çš„<b>å¨éˆé “ç‰›æ’</b>ï¼Œé…¥çš®èˆ‡è‚‰æ±çš„å®Œç¾çµåˆã€‚", address: "5D Nguyá»…n SiÃªu, Báº¿n NghÃ©, District 1" },
                                { time: "15:00", title: "King Luxury æ´—é ­", type: "relax", tag: "90mins", image: "https://images.unsplash.com/photo-1519823551278-64ac92734fb1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "åƒé£½å¾Œä¸è¦å‹•ï¼Œä¾†é«”é©—å‚³èªªä¸­çš„è¶Šå¼æ´—é ­ã€‚é€™ä¸åªæ˜¯æ´—é ­ï¼ŒåŒ…å«æ´—è‡‰ã€æ¡è€³ã€æŒ‰æ‘©ï¼Œé€™90åˆ†é˜ä½ æœƒèˆ’æœåˆ°ç¡è‘—ã€‚", address: "222 BÃ¹i Viá»‡n, District 1" },
                                { time: "17:00", title: "å’–å•¡å…¬å¯“ & æ­¥è¡Œè¡—", type: "sight", tag: "æ•£æ­¥", image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "æ´—å®Œé ­ç¥æ¸…æ°£çˆ½ï¼Œä¾†é€™æ£Ÿå……æ»¿æ–‡é’æ°£æ¯çš„è€å…¬å¯“ã€‚å¯ä»¥é¸ä¸€å®¶æœ‰é™½å°çš„å’–å•¡å»³çœ‹è‘—ä¸‹é¢çš„äººæ½®ï¼Œæ„Ÿå—èƒ¡å¿—æ˜çš„æ´»åŠ›ã€‚", address: "42 NguyÃªÌƒn HuÃªÌ£, District 1" },
                                { time: "18:30", title: "Pizza 4P's", type: "food", tag: "è¶…äººæ°£", image: "https://images.unsplash.com/photo-1595295333158-4742f28fbd85?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é€™å®¶æ˜¯è¶Šå—æœ€æˆåŠŸçš„ Pizza å“ç‰Œï¼å¿…é»æ¡Œé‚Šç¾åˆ‡çš„ <b>Burrata Cheese Pizza</b>ï¼Œé‚£é¡†ç™½ç™½èƒ–èƒ–çš„èµ·å¸åˆ‡é–‹ä¾†é…è‘—æŠ«è–©åƒï¼Œè¶…ç´šéŠ·é­‚ã€‚", address: "8 Thá»§ Khoa HuÃ¢n, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/24 (å…­)",
                            events: [
                                { time: "10:00", title: "BÃ¡nh MÃ¬ Huynh Hoa", type: "food", tag: "è¶Šæ³•éºµåŒ…", image: "https://images.unsplash.com/photo-1541518763669-27fef04b14ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "è™Ÿç¨±èƒ¡å¿—æ˜æœ€å¥½åƒçš„æ³•åœ‹éºµåŒ…ï¼<b>è‚‰ç‰‡å’Œé…æ–™å¤šåˆ°æ»¿å‡ºä¾†</b>ï¼Œå»ºè­°ä¸è¦ä¸€äººåƒä¸€æ•´æ¢ï¼Œåˆ†è‘—åƒç•¶æ—©åˆé¤é»å¿ƒå‰›å¥½ã€‚", address: "26 LÃª Thá»‹ RiÃªng, District 1" },
                                { time: "11:00", title: "å®‰æ±å¸‚å ´ & å¤©åå®®", type: "shop", tag: "è²·è…°æœ", guide: true, desc: "ä¾†é€™è£¡å°±æ˜¯è¦è²·ä¼´æ‰‹ç¦®ã€‚è²·è…°æœã€æœä¹¾è¨˜å¾—<b>ä¸€å®šè¦æ®ºåƒ¹</b>ï¼Œå¾ä¸ƒæŠ˜é–‹å§‹å–Šï¼Œç¾é‡‘äº¤æ˜“ã€‚é€›å®Œå»æ—é‚Šå¤©åå®®æ±‚å€‹å¹³å®‰ã€‚", address: "An Dong Market, District 5" },
                                { time: "13:00", title: "Wrap & Roll", type: "food", tag: "æ¸…çˆ½åˆé¤", guide: true, desc: "ä¸­åˆåƒé»æ¸…çˆ½çš„ç”Ÿæ˜¥æ²ï¼Œæ¸›å°‘è…¸èƒƒè² æ“”ï¼Œå› ç‚ºæ™šä¸Šæœ‰å¤§é¤åœ¨ç­‰è‘—æˆ‘å€‘ï¼", address: "Vincom Center åˆ†åº—" },
                                { time: "15:00", title: "Satra Mart æ¡è³¼", type: "shop", tag: "è¶…å¸‚", desc: "åœ¨ Lucky Plaza è£¡é¢ã€‚é€™æ™‚å€™æŠŠè¦å¸¶å›å°ç£çš„æ²³ç²‰æ³¡éºµã€G7å’–å•¡ã€ç¶ è±†ç³•ä¸€æ¬¡è²·é½Šã€‚", address: "38 NguyÃªÌƒn HuÃªÌ£" },
                                { time: "16:00", title: "ç¶­æ±é…’åº— æŒ‰æ‘©", type: "relax", tag: "è€ç‰Œ", desc: "é€›è¡—é€›ç´¯äº†å§ï¼Ÿé€™å®¶å°±åœ¨èŒƒäº”è€è¡—é™„è¿‘ï¼Œå»äºŒæ¨“æŒ‰å€‹è…³ï¼Œç‚ºæ™šä¸Šçš„æˆ°é¬¥åšæº–å‚™ã€‚", address: "275A Pháº¡m NgÅ© LÃ£o" },
                                { time: "18:00", title: "Nikko Hotel é¾è¦åƒåˆ°é£½", type: "food", tag: "é«˜æ½®", image: "https://images.unsplash.com/photo-1559847844-5315695dadae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "<b>æœ¬æ¬¡è¡Œç¨‹æœ€é«˜æ½®ï¼</b> La Brasserie é¤å»³ã€‚é€™è£¡çš„é‡é»å°±æ˜¯ï¼š<b>æ³¢å£«é “é¾è¦ç„¡é™åƒ</b>ã€‚æœ‰èµ·å¸ç„—çƒ¤ã€è’œè“‰è’¸ç­‰å¤šç¨®å£å‘³ï¼Œé‚„æœ‰ç”Ÿè ”å’Œéµè‚ï¼Œè«‹ç›¡æƒ…äº«ç”¨ï¼", address: "235 Nguyen Van Cu, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/25 (æ—¥)",
                            events: [
                                { time: "ä¸Šåˆ", title: "è…¸èƒƒå…¬ä¼‘", type: "relax", tag: "ä¼‘æ¯", guide: true, desc: "æ˜¨æ™šåƒå¤ªå¥½ï¼Œä»Šå¤©æ—©ä¸Šç¡åˆ°è‡ªç„¶é†’ã€‚å¤šå–æ°´ï¼Œè®“èº«é«”ä»£è¬ä¸€ä¸‹ï¼Œä¸æ’æ—©é¤è¡Œç¨‹ã€‚", address: "" },
                                { time: "13:00", title: "é»ƒé‡‘ä¸‰è§’å¤è¹Ÿ", type: "sight", tag: "ç¶“å…¸è·¯ç·š", image: "https://images.unsplash.com/photo-1577717903315-1691ae25ab3f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é€™ä¸€å€æ˜¯æ³•åœ‹æ®–æ°‘æ™‚æœŸçš„ç²¾è¯ã€‚<b>ç´…æ•™å ‚</b>çœ‹å¤–è§€ï¼Œ<b>ä¸­å¤®éƒµå±€</b>é€²å»å¯„å¼µæ˜ä¿¡ç‰‡ï¼Œç„¶å¾Œå»æ—é‚Šå……æ»¿ç¶ æ„çš„<b>æ›¸è¡—</b>æ•£æ­¥ï¼Œéå¸¸èˆ’æœã€‚", address: "2 CÃ´ng xÃ£ Paris, District 1" },
                                { time: "14:30", title: "èƒ¡å¿—æ˜å¸‚ç¾è¡“åšç‰©é¤¨", type: "sight", tag: "å¥½æ‹", image: "https://images.unsplash.com/photo-1582767098495-23c31627c24a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "é€™æ£Ÿéµé»ƒè‰²çš„æ³•å¼å»ºç¯‰ä»¥å‰æ˜¯å¯Œå•†çš„è±ªå®…ã€‚é‡é»æ˜¯ï¼š<b>æœ‰é›»æ¢¯ã€æœ‰å†·æ°£</b>ï¼åœ¨è£¡é¢å¹å†·æ°£çœ‹å±•è¦½ã€æ‹æ‹å¾©å¤èŠ±ç£šåœ°æ¿ï¼Œå®Œå…¨ä¸æœƒç´¯ã€‚", address: "97A PhÃ³ Äá»©c ChÃ­nh, District 1" },
                                { time: "16:00", title: "Miu Miu Spa 2", type: "relax", tag: "æ—¥å¼æŒ‡å£“", guide: true, desc: "èƒ¡å¿—æ˜å“è³ªæœ€ç©©å®šçš„æŒ‰æ‘©åº—ï¼Œèµ°æ—¥å¼æœå‹™é¢¨æ ¼ã€‚é€™æ˜¯æœ€å¾Œä¸€æ¬¡æŒ‰æ‘©äº†ï¼Œå¥½å¥½æ”¾é¬†å…¨èº«è‚Œè‚‰ã€‚", address: "2B Chu Máº¡nh Trinh" },
                                { time: "18:00", title: "Báº¿p Máº¹ á»ˆn (èƒ–åª½å»šæˆ¿)", type: "food", tag: "å®Œç¾æ”¶å°¾", image: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", guide: true, desc: "éš±è—åœ¨æ¿±åŸå¸‚å ´æ—å··å¼„å…§çš„å°åº—ã€‚å¿…é»å·¨å¤§çš„<b>è¶Šå—ç…é¤… (BÃ¡nh XÃ¨o)</b>ï¼Œåº—å“¡æœƒå¹«ä½ å‰ªé–‹ï¼ŒåŒ…è‘—ç”Ÿèœåƒï¼Œæ¸…è„†çˆ½å£ï¼Œæ˜¯å®Œç¾çš„ Endingã€‚", address: "136 LÃª ThÃ¡nh TÃ´n, District 1" }
                            ]
                        },
                        {
                            dateShort: "1/26 (ä¸€)",
                            events: [
                                { time: "09:30", title: "Phá»Ÿ Há»“ng", type: "food", tag: "æœ€å¾Œä¸€ç¢—", desc: "å°±åœ¨é£¯åº—å°é¢ï¼Œé›¢é–‹å‰å†ä¾†ä¸€ç¢—ç†±é¨°é¨°çš„æ²³ç²‰ï¼Œæš–æš–èƒƒã€‚", address: "76 Hai BÃ  TrÆ°ng" },
                                { time: "10:45", title: "é€€æˆ¿ & å‰å¾€æ©Ÿå ´", type: "transport", desc: "æ‰“é–‹ Grabï¼Œç›®æ¨™ SGN æ©Ÿå ´ã€‚å†è¦‹äº†èƒ¡å¿—æ˜ï¼", address: "Tan Son Nhat International Airport" },
                                { time: "11:30", title: "æ©Ÿå ´ VIP é€æ©Ÿ", type: "transport", tag: "VIP", desc: "èˆ‡ VIP å®¢æœæœƒåˆï¼Œäº«å—æœ€å¾Œä¸€æ¬¡å¿«é€Ÿé€šé—œç¦®é‡ã€‚", address: "SGN International Departure" }
                            ]
                        }
                    ];

                    const currentDayEvents = computed(() => itinerary[selectedDayIndex.value].events);
                    const getCategoryColor = (type) => ({
                        food: 'bg-sakura', sight: 'bg-matcha', transport: 'bg-blue-400',
                        relax: 'bg-purple-400', money: 'bg-yellow-400', hotel: 'bg-indigo-400',
                        shop: 'bg-orange-400', night: 'bg-pink-600'
                    }[type] || 'bg-gray-400');

                    const highlightText = (text) => text ? text.replace(/<b>(.*?)<\/b>/g, '<span class="font-bold text-sumi bg-yellow-100 px-1 rounded shadow-sm">$1</span>') : '';
                    
                    const copyToClipboard = (text) => {
                        if(!text) return;
                        navigator.clipboard.writeText(text).then(() => showToast(`å·²è¤‡è£½ï¼š${text}`))
                            .catch(() => {
                                const ta = document.createElement('textarea'); ta.value = text;
                                document.body.appendChild(ta); ta.select(); document.execCommand('copy');
                                document.body.removeChild(ta); showToast(`å·²è¤‡è£½ï¼š${text}`);
                            });
                    };
                    const showToast = (msg) => { toast.value.message = msg; toast.value.show = true; setTimeout(() => toast.value.show = false, 2000); };
                    const toggleWeather = () => showWeather.value = !showWeather.value;

                    return { currentView, selectedDayIndex, itinerary, currentDayEvents, getCategoryColor, highlightText, copyToClipboard, toast, expenses, newExpenseName, newExpenseAmount, addExpense, totalSpent, showWeather, toggleWeather };
                }
            }).mount('#app');
        });
    </script>
</body>
</html>
